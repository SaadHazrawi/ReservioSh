"use strict";(self.webpackChunkWebUi=self.webpackChunkWebUi||[]).push([[999],{4999:(Z,u,i)=>{i.r(u),i.d(u,{ClinicModule:()=>T});var s=i(6895),t=i(8256),a=i(262),p=i(2843),m=i(2340),g=i(529);let d=(()=>{class n{constructor(e){this.http=e,this.apiUrl=m.N.apiUrl}getSchedule(){return this.http.get(this.apiUrl+"/Booking/Schedules").pipe((0,a.K)(c=>(console.log("Error: Could not connect to server.",c),(0,p._)(c.message))))}GetPatientsForDoctor(e){return this.http.get(this.apiUrl+"/Booking/Clinics/"+e).pipe((0,a.K)(r=>(console.log("Error: Could not connect to server.",r),(0,p._)(r.message))))}getClinics(){return this.http.get(this.apiUrl+"/Booking/Clinics").pipe((0,a.K)(c=>(console.log("Error: Could not connect to server.",c),(0,p._)(c.message))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h(n,o){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function f(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,h,2,1,"td",0),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("ngForOf",e.clinics)}}let C=(()=>{class n{constructor(e){this.scheduleService=e}ngOnInit(){this.scheduleService.getSchedule().subscribe(e=>{const c=[...new Set(e.map(r=>r.day))];this.days=c.map(r=>({name:r,clinics:e.filter(l=>l.day===r).map(l=>({name:l.clinicName}))}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-schedule"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,c){1&e&&(t.TgZ(0,"table")(1,"tbody"),t.YNc(2,f,4,2,"tr",0),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",c.days))},dependencies:[s.sg],styles:["table[_ngcontent-%COMP%]{font-family:Arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%]{text-align:left;padding:8px}td[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}tr[_ngcontent-%COMP%]{border-bottom:1px solid black;border-top:1px solid black}"]}),n})();var v=i(2019);function b(n,o){if(1&n&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.clinicId),t.xp6(1),t.hij("",e.name," ")}}function O(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.fullName," "),t.xp6(2),t.hij(" ",e.phoneNumber," ")}}function x(n,o){if(1&n&&(t.TgZ(0,"table",11)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Phone"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,O,5,2,"tr",12),t.qZA()()),2&n){const e=o.ngIf;t.xp6(8),t.Q6J("ngForOf",e)}}let P=(()=>{class n{constructor(e){this.scheduleService=e}ngOnInit(){this.getClinics()}getClinics(){this.scheduleService.getClinics().subscribe(e=>{this.clinics=e})}selectedClinic(e){const c=Number(e.target.value);c&&this.scheduleService.GetPatientsForDoctor(c).subscribe({next:r=>{this.patients=r},error:r=>{console.log("An error occurred while fetching the patients.",r)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patients-table"]],decls:11,vars:2,consts:[[1,"container","pt-1"],[1,"card"],[1,"card-bady"],[1,"table-responsive","background-table"],[1,"form-group"],["formControlName","clinicId",1,"form-control","select-clinic",3,"change"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"select-arrow"],["class","table table-hover","style","text-align: center;",4,"ngIf"],[3,"value"],[1,"table","table-hover",2,"text-align","center"],[4,"ngFor","ngForOf"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"select",5),t.NdJ("change",function(l){return c.selectedClinic(l)}),t.TgZ(6,"option",6),t._uU(7,"Select Clinic"),t.qZA(),t.YNc(8,b,2,2,"option",7),t.qZA(),t._UZ(9,"span",8),t.qZA(),t.YNc(10,x,9,1,"table",9),t.qZA()()()()),2&e&&(t.xp6(8),t.Q6J("ngForOf",c.clinics),t.xp6(2),t.Q6J("ngIf",c.patients))},dependencies:[s.sg,s.O5],styles:['.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:20px}.form-control[_ngcontent-%COMP%]{background-color:transparent;height:65px;font-size:22px;padding:0 15px;border-radius:0;transition:.2s;color:var(--secondary-color);border:2px solid var(--medium-color)}.form-control[_ngcontent-%COMP%]::placeholder{color:var(--placeholder-color);font-size:14px}.form-group.input-not-empty[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:var(--secondary-color);padding-bottom:20px}select.form-control[_ngcontent-%COMP%] + .select-arrow[_ngcontent-%COMP%]{position:absolute;right:0;bottom:26px;width:32px;line-height:32px;height:32px;text-align:center;pointer-events:none;color:var(--placeholder-color);font-size:14px}select.form-control[_ngcontent-%COMP%] + .select-arrow[_ngcontent-%COMP%]:after{content:"\\279c";display:block;transform:rotate(90deg)}.form-group.input-not-empty[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%] + .select-arrow[_ngcontent-%COMP%]{color:var(--light-color)}']}),n})(),T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[d],imports:[s.ez,g.JF,v.Bz.forChild([{path:"",component:C},{path:"patients",component:P}])]}),n})()}}]);